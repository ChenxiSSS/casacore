<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>casacore: casacore::MultiHDF5 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1MultiHDF5.html">MultiHDF5</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcasacore_1_1MultiHDF5-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::MultiHDF5 Class Reference<div class="ingroups"><a class="el" href="group__casa.html">casa package (libcasa_casa)</a> &raquo; <a class="el" href="group__IO__module.html">IO_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to combine multiple files in a single HDF5 file.  
 <a href="classcasacore_1_1MultiHDF5.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MultiHDF5_8h_source.html">MultiHDF5.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for casacore::MultiHDF5:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcasacore_1_1MultiHDF5.png" usemap="#casacore::MultiHDF5_map" alt=""/>
  <map id="casacore::MultiHDF5_map" name="casacore::MultiHDF5_map">
<area href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one." alt="casacore::MultiFileBase" shape="rect" coords="0,0,147,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae7d3ccbe8318939e2c9e4b766dd01967"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#ae7d3ccbe8318939e2c9e4b766dd01967">MultiHDF5</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="classcasacore_1_1ByteIO.html#afa01b2ceb18a6e7db1ef40ebcd7158df">ByteIO::OpenOption</a>, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a17fcd5abdd2decdf4286f81aa47270d1">blockSize</a>=0)</td></tr>
<tr class="memdesc:ae7d3ccbe8318939e2c9e4b766dd01967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open or create a <a class="el" href="classcasacore_1_1MultiHDF5.html" title="Class to combine multiple files in a single HDF5 file.">MultiHDF5</a> with the given name.  <a href="#ae7d3ccbe8318939e2c9e4b766dd01967">More...</a><br /></td></tr>
<tr class="separator:ae7d3ccbe8318939e2c9e4b766dd01967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d36e002fd342461e9afdba7ac1161cb"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a9d36e002fd342461e9afdba7ac1161cb">~MultiHDF5</a> ()</td></tr>
<tr class="memdesc:a9d36e002fd342461e9afdba7ac1161cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor flushes and closes the file.  <a href="#a9d36e002fd342461e9afdba7ac1161cb">More...</a><br /></td></tr>
<tr class="separator:a9d36e002fd342461e9afdba7ac1161cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68021f2e4826ade179b12447919d045"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#ab68021f2e4826ade179b12447919d045">reopenRW</a> ()</td></tr>
<tr class="memdesc:ab68021f2e4826ade179b12447919d045"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reopen the underlying file for read/write access.  <a href="#ab68021f2e4826ade179b12447919d045">More...</a><br /></td></tr>
<tr class="separator:ab68021f2e4826ade179b12447919d045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344a56e1a1b9f335164323cf3274a161"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a344a56e1a1b9f335164323cf3274a161">fsync</a> ()</td></tr>
<tr class="memdesc:a344a56e1a1b9f335164323cf3274a161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fsync the file (i.e., force the data to be physically written).  <a href="#a344a56e1a1b9f335164323cf3274a161">More...</a><br /></td></tr>
<tr class="separator:a344a56e1a1b9f335164323cf3274a161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:a36e2a9434ed5ac9d2304dc0a6c790c91 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a36e2a9434ed5ac9d2304dc0a6c790c91">MultiFileBase</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a17fcd5abdd2decdf4286f81aa47270d1">blockSize</a>, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a9c6b319b52ddb589cf314b5294642e14">useODirect</a>)</td></tr>
<tr class="memdesc:a36e2a9434ed5ac9d2304dc0a6c790c91 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open or create a <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one.">MultiFileBase</a> with the given name.  <a href="classcasacore_1_1MultiFileBase.html#a36e2a9434ed5ac9d2304dc0a6c790c91">More...</a><br /></td></tr>
<tr class="separator:a36e2a9434ed5ac9d2304dc0a6c790c91 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#aa6a1e16ccff9ae04d91ee11f75cc8c42">~MultiFileBase</a> ()</td></tr>
<tr class="memdesc:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor flushes and closes the file.  <a href="classcasacore_1_1MultiFileBase.html#aa6a1e16ccff9ae04d91ee11f75cc8c42">More...</a><br /></td></tr>
<tr class="separator:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a647a4affd0844e0cf94bda5b18db3b inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a7a647a4affd0844e0cf94bda5b18db3b">fileId</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> throwExcp=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>) const</td></tr>
<tr class="memdesc:a7a647a4affd0844e0cf94bda5b18db3b inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file id of a file in the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one.">MultiFileBase</a> object.  <a href="classcasacore_1_1MultiFileBase.html#a7a647a4affd0844e0cf94bda5b18db3b">More...</a><br /></td></tr>
<tr class="separator:a7a647a4affd0844e0cf94bda5b18db3b inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a7018ae4cbb6263654afef6aad50d987d">addFile</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name)</td></tr>
<tr class="memdesc:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a file to the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one.">MultiFileBase</a> object.  <a href="classcasacore_1_1MultiFileBase.html#a7018ae4cbb6263654afef6aad50d987d">More...</a><br /></td></tr>
<tr class="separator:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a8d6b407fa39ae6bf86a967f03052fd03">deleteFile</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a7a647a4affd0844e0cf94bda5b18db3b">fileId</a>)</td></tr>
<tr class="memdesc:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a file.  <a href="classcasacore_1_1MultiFileBase.html#a8d6b407fa39ae6bf86a967f03052fd03">More...</a><br /></td></tr>
<tr class="separator:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a9b239c97cf26fad6aa5df648d07bd3d3">read</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a7a647a4affd0844e0cf94bda5b18db3b">fileId</a>, void *buffer, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a889abd000af6ff84481beddec62fed8d">size</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> offset)</td></tr>
<tr class="memdesc:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block at the given offset.  <a href="classcasacore_1_1MultiFileBase.html#a9b239c97cf26fad6aa5df648d07bd3d3">More...</a><br /></td></tr>
<tr class="separator:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a600b463c2122ab6e3034349da29ecebd">write</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a7a647a4affd0844e0cf94bda5b18db3b">fileId</a>, const void *buffer, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#a889abd000af6ff84481beddec62fed8d">size</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> offset)</td></tr>
<tr class="memdesc:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block at the given offset.  <a href="classcasacore_1_1MultiFileBase.html#a600b463c2122ab6e3034349da29ecebd">More...</a><br /></td></tr>
<tr class="separator:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ad0343a739f47db0c2dbb09ef28738983">flush</a> ()</td></tr>
<tr class="memdesc:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the file by writing all dirty data and all header info.  <a href="classcasacore_1_1MultiFileBase.html#ad0343a739f47db0c2dbb09ef28738983">More...</a><br /></td></tr>
<tr class="separator:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a61d121a558ce7cb5f7970d7b7f50d56f">resync</a> ()</td></tr>
<tr class="memdesc:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resync with another process by clearing the buffers and rereading the header.  <a href="classcasacore_1_1MultiFileBase.html#a61d121a558ce7cb5f7970d7b7f50d56f">More...</a><br /></td></tr>
<tr class="separator:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf6510b582c7ce0ce6b58a7b93ba27a inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a9bf6510b582c7ce0ce6b58a7b93ba27a">fileName</a> () const</td></tr>
<tr class="memdesc:a9bf6510b582c7ce0ce6b58a7b93ba27a inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file name of the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one.">MultiFileBase</a>.  <a href="classcasacore_1_1MultiFileBase.html#a9bf6510b582c7ce0ce6b58a7b93ba27a">More...</a><br /></td></tr>
<tr class="separator:a9bf6510b582c7ce0ce6b58a7b93ba27a inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a7b5bbd9c880efe9b47c768a9b361d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#aa6a7b5bbd9c880efe9b47c768a9b361d">isWritable</a> () const</td></tr>
<tr class="memdesc:aa6a7b5bbd9c880efe9b47c768a9b361d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the file writable?  <a href="classcasacore_1_1MultiFileBase.html#aa6a7b5bbd9c880efe9b47c768a9b361d">More...</a><br /></td></tr>
<tr class="separator:aa6a7b5bbd9c880efe9b47c768a9b361d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6b319b52ddb589cf314b5294642e14 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a9c6b319b52ddb589cf314b5294642e14">useODirect</a> () const</td></tr>
<tr class="memdesc:a9c6b319b52ddb589cf314b5294642e14 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will O_DIRECT be used?  <a href="classcasacore_1_1MultiFileBase.html#a9c6b319b52ddb589cf314b5294642e14">More...</a><br /></td></tr>
<tr class="separator:a9c6b319b52ddb589cf314b5294642e14 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17fcd5abdd2decdf4286f81aa47270d1 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a17fcd5abdd2decdf4286f81aa47270d1">blockSize</a> () const</td></tr>
<tr class="memdesc:a17fcd5abdd2decdf4286f81aa47270d1 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the block size used.  <a href="classcasacore_1_1MultiFileBase.html#a17fcd5abdd2decdf4286f81aa47270d1">More...</a><br /></td></tr>
<tr class="separator:a17fcd5abdd2decdf4286f81aa47270d1 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae268486bc0bd232e07f05ab0f6f004b4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ae268486bc0bd232e07f05ab0f6f004b4">nfile</a> () const</td></tr>
<tr class="memdesc:ae268486bc0bd232e07f05ab0f6f004b4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the nr of virtual files.  <a href="classcasacore_1_1MultiFileBase.html#ae268486bc0bd232e07f05ab0f6f004b4">More...</a><br /></td></tr>
<tr class="separator:ae268486bc0bd232e07f05ab0f6f004b4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889abd000af6ff84481beddec62fed8d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a889abd000af6ff84481beddec62fed8d">size</a> () const</td></tr>
<tr class="memdesc:a889abd000af6ff84481beddec62fed8d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total nr of data blocks used.  <a href="classcasacore_1_1MultiFileBase.html#a889abd000af6ff84481beddec62fed8d">More...</a><br /></td></tr>
<tr class="separator:a889abd000af6ff84481beddec62fed8d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d690f26d25a1fd3e2bd6420970c699 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">const vector&lt; <a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ac8d690f26d25a1fd3e2bd6420970c699">info</a> () const</td></tr>
<tr class="memdesc:ac8d690f26d25a1fd3e2bd6420970c699 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the info object (for test purposes mainly).  <a href="classcasacore_1_1MultiFileBase.html#ac8d690f26d25a1fd3e2bd6420970c699">More...</a><br /></td></tr>
<tr class="separator:ac8d690f26d25a1fd3e2bd6420970c699 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25f3956b5dcbf10cc9cb6d59c0efb3d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">const vector&lt; <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ae25f3956b5dcbf10cc9cb6d59c0efb3d">freeBlocks</a> () const</td></tr>
<tr class="memdesc:ae25f3956b5dcbf10cc9cb6d59c0efb3d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the free blocks (for test purposes mainly).  <a href="classcasacore_1_1MultiFileBase.html#ae25f3956b5dcbf10cc9cb6d59c0efb3d">More...</a><br /></td></tr>
<tr class="separator:ae25f3956b5dcbf10cc9cb6d59c0efb3d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac537358f8077660b4db209ef13639ae6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#ac537358f8077660b4db209ef13639ae6">doAddFile</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;)</td></tr>
<tr class="memdesc:ac537358f8077660b4db209ef13639ae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the class-specific actions on adding a file.  <a href="#ac537358f8077660b4db209ef13639ae6">More...</a><br /></td></tr>
<tr class="separator:ac537358f8077660b4db209ef13639ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8c0965aefc3c3be2db2c9f4ddf1bbb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a7a8c0965aefc3c3be2db2c9f4ddf1bbb">doDeleteFile</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;)</td></tr>
<tr class="memdesc:a7a8c0965aefc3c3be2db2c9f4ddf1bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the class-specific actions on deleting a file.  <a href="#a7a8c0965aefc3c3be2db2c9f4ddf1bbb">More...</a><br /></td></tr>
<tr class="separator:a7a8c0965aefc3c3be2db2c9f4ddf1bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdb8451ef209343735201dad1e8cb3e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#afcdb8451ef209343735201dad1e8cb3e">flushFile</a> ()</td></tr>
<tr class="memdesc:afcdb8451ef209343735201dad1e8cb3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the file itself.  <a href="#afcdb8451ef209343735201dad1e8cb3e">More...</a><br /></td></tr>
<tr class="separator:afcdb8451ef209343735201dad1e8cb3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e9382a8349c11068ed00ed07b2f67a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a81e9382a8349c11068ed00ed07b2f67a">close</a> ()</td></tr>
<tr class="memdesc:a81e9382a8349c11068ed00ed07b2f67a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush and close the file.  <a href="#a81e9382a8349c11068ed00ed07b2f67a">More...</a><br /></td></tr>
<tr class="separator:a81e9382a8349c11068ed00ed07b2f67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7518091b3320f3fb63a6c839ea39cfa9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a7518091b3320f3fb63a6c839ea39cfa9">writeHeader</a> ()</td></tr>
<tr class="memdesc:a7518091b3320f3fb63a6c839ea39cfa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header info.  <a href="#a7518091b3320f3fb63a6c839ea39cfa9">More...</a><br /></td></tr>
<tr class="separator:a7518091b3320f3fb63a6c839ea39cfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bade2f5dee077533cc371a95d84851a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a3bade2f5dee077533cc371a95d84851a">readHeader</a> (<a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> always=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>)</td></tr>
<tr class="memdesc:a3bade2f5dee077533cc371a95d84851a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the header info.  <a href="#a3bade2f5dee077533cc371a95d84851a">More...</a><br /></td></tr>
<tr class="separator:a3bade2f5dee077533cc371a95d84851a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8fd8fe56130bde4bed708ff947e263"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#aac8fd8fe56130bde4bed708ff947e263">extend</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#ac8d690f26d25a1fd3e2bd6420970c699">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> lastblk)</td></tr>
<tr class="memdesc:aac8fd8fe56130bde4bed708ff947e263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the virtual file to fit lastblk.  <a href="#aac8fd8fe56130bde4bed708ff947e263">More...</a><br /></td></tr>
<tr class="separator:aac8fd8fe56130bde4bed708ff947e263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51a299ffef6d879a34b3078f69ad298"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#aa51a299ffef6d879a34b3078f69ad298">readBlock</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#ac8d690f26d25a1fd3e2bd6420970c699">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> blknr, void *buffer)</td></tr>
<tr class="memdesc:aa51a299ffef6d879a34b3078f69ad298"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a data block.  <a href="#aa51a299ffef6d879a34b3078f69ad298">More...</a><br /></td></tr>
<tr class="separator:aa51a299ffef6d879a34b3078f69ad298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6f226dca46c14768f87bbb26bfce77"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a9a6f226dca46c14768f87bbb26bfce77">writeBlock</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#ac8d690f26d25a1fd3e2bd6420970c699">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> blknr, const void *buffer)</td></tr>
<tr class="memdesc:a9a6f226dca46c14768f87bbb26bfce77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a data block.  <a href="#a9a6f226dca46c14768f87bbb26bfce77">More...</a><br /></td></tr>
<tr class="separator:a9a6f226dca46c14768f87bbb26bfce77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a72d36440c47415bf42403f22a9306d3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1HDF5File.html">HDF5File</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiHDF5.html#a72d36440c47415bf42403f22a9306d3b">itsFile</a></td></tr>
<tr class="separator:a72d36440c47415bf42403f22a9306d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ac9621228e89dd8d17f0e8e607180adf4">setNewFile</a> ()</td></tr>
<tr class="memdesc:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flags and blockSize for a new MultiFile/HDF5.  <a href="classcasacore_1_1MultiFileBase.html#ac9621228e89dd8d17f0e8e607180adf4">More...</a><br /></td></tr>
<tr class="separator:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:a0088ae2f2c84cc1901e95486bf3c1c24 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a0088ae2f2c84cc1901e95486bf3c1c24">itsName</a></td></tr>
<tr class="separator:a0088ae2f2c84cc1901e95486bf3c1c24 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b137ebd8d7c161f3621d253a2f1a66a inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a4b137ebd8d7c161f3621d253a2f1a66a">itsBlockSize</a></td></tr>
<tr class="separator:a4b137ebd8d7c161f3621d253a2f1a66a inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903f549aa941451624e91e7781ffe4bb inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a903f549aa941451624e91e7781ffe4bb">itsNrBlock</a></td></tr>
<tr class="separator:a903f549aa941451624e91e7781ffe4bb inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4224aca5171999ccb11d391ddabb3b82 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a4224aca5171999ccb11d391ddabb3b82">itsHdrCounter</a></td></tr>
<tr class="separator:a4224aca5171999ccb11d391ddabb3b82 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6974a444a5aa078c4a2048845de52fde inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a6974a444a5aa078c4a2048845de52fde">itsInfo</a></td></tr>
<tr class="separator:a6974a444a5aa078c4a2048845de52fde inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd41d46fbcdd9980ea1e5b12a2a364d7 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structcasacore_1_1MultiFileBuffer.html">MultiFileBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#afd41d46fbcdd9980ea1e5b12a2a364d7">itsBuffer</a></td></tr>
<tr class="separator:afd41d46fbcdd9980ea1e5b12a2a364d7 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b589d6b0dfd03f6bb6279a54c0a420c inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a9b589d6b0dfd03f6bb6279a54c0a420c">itsUseODirect</a></td></tr>
<tr class="separator:a9b589d6b0dfd03f6bb6279a54c0a420c inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce31c35501d72b62610d5e66d15a0ef inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a3ce31c35501d72b62610d5e66d15a0ef">itsWritable</a></td></tr>
<tr class="separator:a3ce31c35501d72b62610d5e66d15a0ef inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab888d3767c7e6cae685d156d11b6eb5d inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ab888d3767c7e6cae685d156d11b6eb5d">itsChanged</a></td></tr>
<tr class="separator:ab888d3767c7e6cae685d156d11b6eb5d inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627b11acd6d0c22e895a15576845cab6 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a627b11acd6d0c22e895a15576845cab6">itsFreeBlocks</a></td></tr>
<tr class="separator:a627b11acd6d0c22e895a15576845cab6 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to combine multiple files in a single HDF5 file. </p>
<p><a class="anchor" id="MultiHDF5_summary"></a> </p><h3>Intended use:</h3>
<p>Public interface</p>
<h3>Review Status</h3>
<dl>
<dt>Test programs:</dt>
<dd>tMultiHDF5</dd>
</dl>
<h3>Synopsis</h3>
<p>This class is a container file holding multiple virtual files. It is primarily meant as a container file for the storage manager files of a table to reduce the number of files used (especially for Lustre) and to reduce the number of open files (especially when concatenating tables). <br />
A secondary goal is offering the ability to use an IO buffer size that matches the file system well (large buffer size for e.g. ZFS).</p>
<p>The <a class="el" href="classcasacore_1_1SetupNewTable.html" title="Create a new table - define shapes, data managers, etc.">SetupNewTable</a> constructor has a <a class="el" href="classcasacore_1_1StorageOption.html" title="Options defining how table files are organized.">StorageOption</a> argument to define if a <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one.">MultiFile</a> has to be used and if so, the buffer size to use. It is also possible to specify that through aipsrc variables.</p>
<p>A virtual file is spread over multiple (fixed size) data blocks in the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one.">MultiFile</a>. A data block is never shared by multiple files. For each virtual file <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one.">MultiFile</a> keeps a <a class="el" href="structcasacore_1_1MultiFileInfo.html" title="Helper class for MultiFileBase containing info per internal file.">MultiFileInfo</a> object telling the file size and the blocks numbers used for the file. When flushing the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one.">MultiFile</a>, this meta info is written into a header block and, if needed, continuation blocks. On open and resync, it is read back. <br />
</p>
<p>A virtual file is represented by an <a class="el" href="classcasacore_1_1MFFileIO.html" title="Class for IO on a virtual file in a MultiFileBase.">MFFileIO</a> object, which is derived from <a class="el" href="classcasacore_1_1ByteIO.html" title="Abstract base class for IO on a byte stream.">ByteIO</a> and as such part of the casacore IO framework. It makes it possible for applications to access a virtual file in the same way as a regular file.</p>
<p>It is possible to delete a virtual file. Its blocks will be added to the free block list (which is also stored in the meta info).</p>
<h3>Example</h3>
<p><a class="anchor" id="MultiHDF5_example1"></a> In principle it is possible to use the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one.">MultiFile</a> functions directly. However, in general it is much easier to use an <a class="el" href="classcasacore_1_1MFFileIO.html" title="Class for IO on a virtual file in a MultiFileBase.">MFFileIO</a> object per virtual file as shown below. </p><div class="fragment"><div class="line"><span class="comment">// Create a new MultiFile using a block size of 1 MB.</span></div><div class="line">MultiFile mfile(<span class="stringliteral">&quot;file.mf&#39;, ByteIO::New, 1048576);</span></div><div class="line"><span class="stringliteral">// Create a virtual file in it.</span></div><div class="line"><span class="stringliteral">MFFileIO mf1(mfile, &quot;</span>mf1<span class="stringliteral">&quot;, ByteIO::New);</span></div><div class="line"><span class="stringliteral">// Use it (for example) as the sink of AipsIO.</span></div><div class="line"><span class="stringliteral">AipsIO stream (&amp;mf1);</span></div><div class="line"><span class="stringliteral">// Write values.</span></div><div class="line"><span class="stringliteral">stream &lt;&lt; (Int)10;</span></div><div class="line"><span class="stringliteral">stream &lt;&lt; True;</span></div><div class="line"><span class="stringliteral">// Seek to beginning of file and read data in.</span></div><div class="line"><span class="stringliteral">stream.setpos (0);</span></div><div class="line"><span class="stringliteral">Int vali;</span></div><div class="line"><span class="stringliteral">Bool valb;</span></div><div class="line"><span class="stringliteral">stream &gt;&gt; vali &gt;&gt; valb;</span></div></div><!-- fragment --><h3>To Do</h3>
<ul>
<li>
write headers at alternating file positions (for robustness) </li>
<li>
possibly write headers entirely at the end if larger than blocksize </li>
</ul>

<p class="definition">Definition at line <a class="el" href="MultiHDF5_8h_source.html#l00105">105</a> of file <a class="el" href="MultiHDF5_8h_source.html">MultiHDF5.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae7d3ccbe8318939e2c9e4b766dd01967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d3ccbe8318939e2c9e4b766dd01967">&#9670;&nbsp;</a></span>MultiHDF5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::MultiHDF5::MultiHDF5 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1ByteIO.html#afa01b2ceb18a6e7db1ef40ebcd7158df">ByteIO::OpenOption</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>blockSize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open or create a <a class="el" href="classcasacore_1_1MultiHDF5.html" title="Class to combine multiple files in a single HDF5 file.">MultiHDF5</a> with the given name. </p>
<p>Upon creation the block size can be given. If 0, it uses the block size of the file system the file is on. </p>

</div>
</div>
<a id="a9d36e002fd342461e9afdba7ac1161cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d36e002fd342461e9afdba7ac1161cb">&#9670;&nbsp;</a></span>~MultiHDF5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual casacore::MultiHDF5::~MultiHDF5 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor flushes and closes the file. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a81e9382a8349c11068ed00ed07b2f67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e9382a8349c11068ed00ed07b2f67a">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush and close the file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ac8ee8d5ea6bc9873830304b6204089a8">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="ac537358f8077660b4db209ef13639ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac537358f8077660b4db209ef13639ae6">&#9670;&nbsp;</a></span>doAddFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::doAddFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do the class-specific actions on adding a file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ad0070a6bb71a322bcaaae566b6d133c5">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="a7a8c0965aefc3c3be2db2c9f4ddf1bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8c0965aefc3c3be2db2c9f4ddf1bbb">&#9670;&nbsp;</a></span>doDeleteFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::doDeleteFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do the class-specific actions on deleting a file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#aac97deb7a9f1eda38035748939c6f42f">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="aac8fd8fe56130bde4bed708ff947e263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8fd8fe56130bde4bed708ff947e263">&#9670;&nbsp;</a></span>extend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::extend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>lastblk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extend the virtual file to fit lastblk. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a22f7fc6e8032b63eedd48564f4b46e11">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="afcdb8451ef209343735201dad1e8cb3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdb8451ef209343735201dad1e8cb3e">&#9670;&nbsp;</a></span>flushFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::flushFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush the file itself. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ac5d2e373a91fd5b3b7fc1b8c9507b0a3">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="a344a56e1a1b9f335164323cf3274a161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a344a56e1a1b9f335164323cf3274a161">&#9670;&nbsp;</a></span>fsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::fsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fsync the file (i.e., force the data to be physically written). </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a4ae5452b5b530624026d78bf0b6ed6e5">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="aa51a299ffef6d879a34b3078f69ad298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa51a299ffef6d879a34b3078f69ad298">&#9670;&nbsp;</a></span>readBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::readBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>blknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a data block. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#abe6fe850347227e46b7bf1492913b201">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="a3bade2f5dee077533cc371a95d84851a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bade2f5dee077533cc371a95d84851a">&#9670;&nbsp;</a></span>readHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::readHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td>
          <td class="paramname"><em>always</em> = <code><a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the header info. </p>
<p>If always==False, the info is only read if the header counter has changed. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a561eabec5242a5d79c97a432a057193b">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="ab68021f2e4826ade179b12447919d045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68021f2e4826ade179b12447919d045">&#9670;&nbsp;</a></span>reopenRW()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::reopenRW </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reopen the underlying file for read/write access. </p>
<p>Nothing will be done if the file is writable already. Otherwise it will be reopened and an exception will be thrown if it is not possible to reopen it for read/write access. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ab154e2b65059a2570eb7e0873b4b4759">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="a9a6f226dca46c14768f87bbb26bfce77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6f226dca46c14768f87bbb26bfce77">&#9670;&nbsp;</a></span>writeBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::writeBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>blknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a data block. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ab0107a61c31c8b6ede38ec06edb5d8f4">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a id="a7518091b3320f3fb63a6c839ea39cfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7518091b3320f3fb63a6c839ea39cfa9">&#9670;&nbsp;</a></span>writeHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiHDF5::writeHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header info. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a2ee1b63d6993bf94609fd38db1962f82">casacore::MultiFileBase</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a72d36440c47415bf42403f22a9306d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d36440c47415bf42403f22a9306d3b">&#9670;&nbsp;</a></span>itsFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1HDF5File.html">HDF5File</a> casacore::MultiHDF5::itsFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MultiHDF5_8h_source.html#l00149">149</a> of file <a class="el" href="MultiHDF5_8h_source.html">MultiHDF5.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>casa/IO/<a class="el" href="MultiHDF5_8h_source.html">MultiHDF5.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
